(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3921:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(3297)}])},3297:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return m}});var a=s(4246),o=s(8579),l=s.n(o),t=s(6562),n=s(2696);s(7378);var u=s(5332),c=s(6256),d=s(3662),i=()=>{let e=(0,d.useRouter)();localStorage.removeItem("branch"),console.log(localStorage.getItem("branch"));let r=async r=>{r.preventDefault();let s=r.currentTarget.email.value,a=r.currentTarget.password.value;try{let r=(await (0,t.e5)(c.I8,s,a)).user,o=await (0,n.QT)((0,n.JU)(c.fs,"users",r.uid));o.exists()&&"cashier"===o.data().role?(localStorage.setItem("branch",o.data().branch),u.ZP.success("Logged in successfully!"),e.push("/home")):u.ZP.error("You are not authorized to login as cashier")}catch(e){"auth/invalid-credential"===e.code?u.ZP.error("Invalid email or password"):u.ZP.error("An error occurred. Please try again later")}};return(0,a.jsxs)("form",{onSubmit:r,className:"w-full max-w-md mx-auto p-8 shadow-md rounded-lg text-black bg-background",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center uppercase",children:"Cashier"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-base font-medium",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",id:"email",required:!0,className:"mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-base font-medium",children:"Password"}),(0,a.jsx)("input",{type:"password",name:"password",id:"password",required:!0,className:"mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-foreground text-background py-2 px-4 rounded-md hover:bg-foreground/70",children:"Login"})]})},m=()=>(0,a.jsxs)("div",{className:"fixed inset-0 top-0 left-0 w-full flex flex-col items-center justify-center h-screen bg-foreground",children:[(0,a.jsx)(l(),{src:"/images/icon.png",alt:"logo",width:180,height:180,className:"absolute top-0 left-0 p-4 drop-shadow-lg"}),(0,a.jsx)(i,{})]})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3921)}),_N_E=e.O()}]);